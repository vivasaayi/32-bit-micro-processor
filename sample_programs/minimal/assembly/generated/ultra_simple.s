# Generated by Simple C Compiler
# Custom RISC Assembly Output

# Runtime support functions
malloc:
# Simple malloc - returns fixed heap addresses
load x1, heap_ptr
add x2, x1, x0
store x2, heap_ptr
mov x0, x1
ret

putchar:
# Output character in x0
li a7, 11
ecall  # print char from x0
ret

strlen:
# String length - string pointer in x0
mov x1, x0
addi x0, zero, 0
strlen_loop:
lw x2, 0(x1)
#cmp x2, #0
je strlen_end
add x0, x0, #1
add x1, x1, #1
j strlen_loop
strlen_end:
ret

# Data section
heap_ptr: .word 0x10000

# Compound statement
# Function declaration
main:
addi sp, sp, -4
sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
# Compound statement
# Variable declaration
# Array stack[10] allocated (40 bytes)
# Array base address for stack
# Variable declaration
# Variable sp allocated
addi x1, zero, 0
# Store initializer value for sp
addi x1, zero, 5
# Store to array element
# Undefined symbol
addi x2, zero, 0
# Undefined symbol
addi x3, zero, 0
mul x3, x3, #4
add x2, x2, x3
sw x1, 0(x2)
mov x0, x1
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 1
add x1, x1, x2
# Store to variable sp
sw x1, 0(sp)
mov x0, x1
addi x1, zero, 3
# Store to array element
# Undefined symbol
addi x2, zero, 0
# Undefined symbol
addi x3, zero, 0
mul x3, x3, #4
add x2, x2, x3
sw x1, 0(x2)
mov x0, x1
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 1
add x1, x1, x2
# Store to variable sp
sw x1, 0(sp)
mov x0, x1
addi x1, zero, 2
# Store to array element
# Undefined symbol
addi x2, zero, 0
# Undefined symbol
addi x3, zero, 0
mul x3, x3, #4
add x2, x2, x3
sw x1, 0(x2)
mov x0, x1
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 1
add x1, x1, x2
# Store to variable sp
sw x1, 0(sp)
mov x0, x1
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 1
sub x1, x1, x2
# Store to variable sp
sw x1, 0(sp)
mov x0, x1
# Variable declaration
# Variable b allocated
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
mul x2, x2, #4
add x1, x1, x2
lw x1, 0(x1)
# Store initializer value for b
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 1
sub x1, x1, x2
# Store to variable sp
sw x1, 0(sp)
mov x0, x1
# Variable declaration
# Variable a allocated
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
mul x2, x2, #4
add x1, x1, x2
lw x1, 0(x1)
# Store initializer value for a
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
mul x1, x1, x2
# Store to array element
# Undefined symbol
addi x2, zero, 0
# Undefined symbol
addi x3, zero, 0
mul x3, x3, #4
add x2, x2, x3
sw x1, 0(x2)
mov x0, x1
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 1
add x1, x1, x2
# Store to variable sp
sw x1, 0(sp)
mov x0, x1
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 1
sub x1, x1, x2
# Store to variable sp
sw x1, 0(sp)
mov x0, x1
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
mul x2, x2, #4
add x1, x1, x2
lw x1, 0(x1)
# Store to variable b
sw x1, 0(b)
mov x0, x1
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 1
sub x1, x1, x2
# Store to variable sp
sw x1, 0(sp)
mov x0, x1
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
mul x2, x2, #4
add x1, x1, x2
lw x1, 0(x1)
# Store to variable a
sw x1, 0(a)
mov x0, x1
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
add x1, x1, x2
# Store to array element
# Undefined symbol
addi x2, zero, 0
# Undefined symbol
addi x3, zero, 0
mul x3, x3, #4
add x2, x2, x3
sw x1, 0(x2)
mov x0, x1
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 1
add x1, x1, x2
# Store to variable sp
sw x1, 0(sp)
mov x0, x1
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 1
sub x1, x1, x2
# Store to variable sp
sw x1, 0(sp)
mov x0, x1
# Return statement
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
mul x2, x2, #4
add x1, x1, x2
lw x0, 0(x1)
add sp, sp, #64
lw fp, 0(sp)
addi sp, sp, 4
ret
main_end:
add sp, sp, #64
lw fp, 0(sp)
addi sp, sp, 4
ret


# Program entry point
_start:
call main
ebreak
