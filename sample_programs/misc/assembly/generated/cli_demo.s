# Generated by Simple C Compiler
# Custom RISC Assembly Output

# Runtime support functions
malloc:
# Simple malloc - returns fixed heap addresses
load x1, heap_ptr
add x2, x1, x0
store x2, heap_ptr
mov x0, x1
ret

putchar:
# Output character in r0
li a7, 11
    ecall  # print char from x0
ret

strlen:
# String length - string pointer in r0
mov x1, x0
addi x0, zero, 0
strlen_loop:
lw x2, 0(x1)
#cmp x2, #0
je strlen_end
add x0, x0, #1
add x1, x1, #1
j strlen_loop
strlen_end:
ret

# Data section
heap_ptr: .word 0x10000

# Compound statement
# Variable declaration
# Variable cursor_x allocated
# Variable declaration
# Variable cursor_y allocated
# Variable declaration
# Variable fg_color allocated
# Variable declaration
# Variable bg_color allocated
# Undefined symbol
addi x0, zero, 0
# Function declaration
cli_init:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
cli_init_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret

# Function declaration
cli_clear_screen:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
cli_clear_screen_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret

# Function declaration
cli_set_color:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
cli_set_color_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret

# Function declaration
cli_set_cursor:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
cli_set_cursor_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret

# Function declaration
cli_putchar:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
cli_putchar_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret

# Function declaration
cli_scroll_up:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
cli_scroll_up_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret

# Function declaration
gfx_init:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
gfx_init_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret

# Function declaration
gfx_set_pixel:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
gfx_set_pixel_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret

# Function declaration
gfx_draw_line:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
gfx_draw_line_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret

# Function declaration
gfx_draw_rect:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
gfx_draw_rect_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret

# Function declaration
gfx_fill_rect:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
gfx_fill_rect_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret

# Function declaration
gfx_clear_screen:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
gfx_clear_screen_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret

# Function declaration
cli_init:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
# Compound statement
# Function call
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call WRITE_REG
add sp, sp, #8
mov x0, x0
addi x1, zero, 0
# Store to complex lvalue (simplified)
mov x0, x1
addi x1, zero, 0
# Store to complex lvalue (simplified)
mov x0, x1
# Undefined symbol
addi x1, zero, 0
# Store to complex lvalue (simplified)
mov x0, x1
# Undefined symbol
addi x1, zero, 0
# Store to complex lvalue (simplified)
mov x0, x1
# Function call
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call cli_set_color
add sp, sp, #8
mov x0, x0
# Function call
call cli_clear_screen
mov x0, x0
cli_init_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret

# Function declaration
cli_clear_screen:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
# Compound statement
# For loop (simplified)
# Compound statement
# Undefined symbol
addi x1, zero, 0
# Store to array element
# Undefined symbol
addi x2, zero, 0
# Undefined symbol
addi x3, zero, 0
mul x3, x3, #4
add x2, x2, x3
sw x1, 0(x2)
mov x0, x1
addi x1, zero, 0
# Store to complex lvalue (simplified)
mov x0, x1
addi x1, zero, 0
# Store to complex lvalue (simplified)
mov x0, x1
# Function call
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call cli_set_cursor
add sp, sp, #8
mov x0, x0
cli_clear_screen_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret

# Function declaration
cli_set_color:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
# Compound statement
# Undefined symbol
addi x1, zero, 0
# Store to complex lvalue (simplified)
mov x0, x1
# Undefined symbol
addi x1, zero, 0
# Store to complex lvalue (simplified)
mov x0, x1
# Function call
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call WRITE_REG
add sp, sp, #8
mov x0, x0
cli_set_color_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret

# Function declaration
cli_set_cursor:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
# Compound statement
# If statement
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 0
#cmp x1, x2
setge x1
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
#cmp x1, x2
setlt x2
and x1, x1, x2
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 0
#cmp x1, x2
setge x2
and x1, x1, x2
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
#cmp x1, x2
setlt x2
and x0, x1, x2
#cmp x0, #0
je L0
# Compound statement
# Undefined symbol
addi x1, zero, 0
# Store to complex lvalue (simplified)
mov x0, x1
# Undefined symbol
addi x1, zero, 0
# Store to complex lvalue (simplified)
mov x0, x1
# Function call
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call WRITE_REG
add sp, sp, #8
mov x0, x0
# Function call
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call WRITE_REG
add sp, sp, #8
mov x0, x0
j L1
L0:
L1:
cli_set_cursor_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret

# Function declaration
cli_putchar:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
# Compound statement
# If statement
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 0
#cmp x1, x2
seteq x0
#cmp x0, #0
je L2
# Compound statement
addi x1, zero, 0
# Store to complex lvalue (simplified)
mov x0, x1
# Undefined symbol
addi x1, zero, 0
# Member access (simplified)
add x0, x1, #1
# If statement
# Undefined symbol
addi x1, zero, 0
# Member access (simplified)
# Undefined symbol
addi x2, zero, 0
#cmp x1, x2
setge x0
#cmp x0, #0
je L4
# Compound statement
# Function call
call cli_scroll_up
mov x0, x0
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 1
sub x1, x1, x2
# Store to complex lvalue (simplified)
mov x0, x1
j L5
L4:
L5:
# Function call
# Undefined symbol
addi x3, zero, 0
# Member access (simplified)
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
# Member access (simplified)
addi sp, sp, -4
    sw x3, 0(sp)
call cli_set_cursor
add sp, sp, #8
mov x0, x0
j L3
L2:
# Compound statement
# Variable declaration
# Variable pos allocated
# Undefined symbol
addi x1, zero, 0
# Member access (simplified)
# Undefined symbol
addi x2, zero, 0
mul x1, x1, x2
# Undefined symbol
addi x2, zero, 0
# Member access (simplified)
add x1, x1, x2
# Store initializer value for pos
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 8
shl x1, x1, x2
# Undefined symbol
addi x2, zero, 0
or x1, x1, x2
# Store to array element
# Undefined symbol
addi x2, zero, 0
# Undefined symbol
addi x3, zero, 0
mul x3, x3, #4
add x2, x2, x3
sw x1, 0(x2)
mov x0, x1
# Undefined symbol
addi x1, zero, 0
# Member access (simplified)
add x0, x1, #1
# If statement
# Undefined symbol
addi x1, zero, 0
# Member access (simplified)
# Undefined symbol
addi x2, zero, 0
#cmp x1, x2
setge x0
#cmp x0, #0
je L6
# Compound statement
addi x1, zero, 0
# Store to complex lvalue (simplified)
mov x0, x1
# Undefined symbol
addi x1, zero, 0
# Member access (simplified)
add x0, x1, #1
# If statement
# Undefined symbol
addi x1, zero, 0
# Member access (simplified)
# Undefined symbol
addi x2, zero, 0
#cmp x1, x2
setge x0
#cmp x0, #0
je L8
# Compound statement
# Function call
call cli_scroll_up
mov x0, x0
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 1
sub x1, x1, x2
# Store to complex lvalue (simplified)
mov x0, x1
j L9
L8:
L9:
j L7
L6:
L7:
# Function call
# Undefined symbol
addi x3, zero, 0
# Member access (simplified)
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
# Member access (simplified)
addi sp, sp, -4
    sw x3, 0(sp)
call cli_set_cursor
add sp, sp, #8
mov x0, x0
L3:
cli_putchar_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret

# Compound statement
# Function declaration
cli_scroll_up:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
# Compound statement
# For loop (simplified)
# Compound statement
# For loop (simplified)
# Compound statement
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 1
add x1, x1, x2
# Undefined symbol
addi x2, zero, 0
mul x1, x1, x2
# Undefined symbol
addi x2, zero, 0
add x2, x1, x2
mul x2, x2, #4
add x1, x1, x2
lw x1, 0(x1)
# Store to array element
# Undefined symbol
addi x2, zero, 0
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
mul x1, x1, x2
# Undefined symbol
addi x2, zero, 0
add x3, x1, x2
mul x3, x3, #4
add x2, x2, x3
sw x1, 0(x2)
mov x0, x1
# For loop (simplified)
# Compound statement
cli_scroll_up_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret

# Function declaration
gfx_init:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
# Compound statement
# Function call
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call WRITE_REG
add sp, sp, #8
mov x0, x0
gfx_init_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret

# Function declaration
gfx_set_pixel:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
# Compound statement
# If statement
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 0
#cmp x1, x2
setge x1
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 640
#cmp x1, x2
setlt x2
and x1, x1, x2
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 0
#cmp x1, x2
setge x2
and x1, x1, x2
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 480
#cmp x1, x2
setlt x2
and x0, x1, x2
#cmp x0, #0
je L10
# Compound statement
# Undefined symbol
addi x1, zero, 0
# Store to array element
# Undefined symbol
addi x2, zero, 0
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 640
mul x1, x1, x2
# Undefined symbol
addi x2, zero, 0
add x3, x1, x2
mul x3, x3, #4
add x2, x2, x3
sw x1, 0(x2)
mov x0, x1
j L11
L10:
L11:
gfx_set_pixel_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret

# Function declaration
gfx_clear_screen:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
# Compound statement
# For loop (simplified)
# Compound statement
# Undefined symbol
addi x1, zero, 0
# Store to array element
# Undefined symbol
addi x2, zero, 0
# Undefined symbol
addi x3, zero, 0
mul x3, x3, #4
add x2, x2, x3
sw x1, 0(x2)
mov x0, x1
gfx_clear_screen_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret

# Function declaration
gfx_draw_line:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
# Compound statement
# Variable declaration
# Variable dx allocated
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
sub x1, x1, x2
# Store initializer value for dx
# Variable declaration
# Variable dy allocated
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
sub x1, x1, x2
# Store initializer value for dy
# Variable declaration
# Variable dx_abs allocated
# Ternary operator: condition ? true : false
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 0
#cmp x1, x2
setlt x1
#cmp x1, #0
je L_ternary_false_0
# Undefined symbol
addi x1, zero, 0
neg x1, x1
j L_ternary_end_0
L_ternary_false_0:
# Undefined symbol
addi x1, zero, 0
L_ternary_end_0:
# Store initializer value for dx_abs
# Variable declaration
# Variable dy_abs allocated
# Ternary operator: condition ? true : false
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 0
#cmp x1, x2
setlt x1
#cmp x1, #0
je L_ternary_false_1
# Undefined symbol
addi x1, zero, 0
neg x1, x1
j L_ternary_end_1
L_ternary_false_1:
# Undefined symbol
addi x1, zero, 0
L_ternary_end_1:
# Store initializer value for dy_abs
# Variable declaration
# Variable x_inc allocated
# Ternary operator: condition ? true : false
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 0
#cmp x1, x2
setlt x1
#cmp x1, #0
je L_ternary_false_2
addi x1, zero, 1
neg x1, x1
j L_ternary_end_2
L_ternary_false_2:
addi x1, zero, 1
L_ternary_end_2:
# Store initializer value for x_inc
# Variable declaration
# Variable y_inc allocated
# Ternary operator: condition ? true : false
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 0
#cmp x1, x2
setlt x1
#cmp x1, #0
je L_ternary_false_3
addi x1, zero, 1
neg x1, x1
j L_ternary_end_3
L_ternary_false_3:
addi x1, zero, 1
L_ternary_end_3:
# Store initializer value for y_inc
# Variable declaration
# Variable error allocated
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
sub x1, x1, x2
# Store initializer value for error
# While loop
L12:
addi x0, zero, 1
#cmp x0, #0
je L13
# Compound statement
# Function call
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call gfx_set_pixel
add sp, sp, #12
mov x0, x0
# If statement
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
#cmp x1, x2
seteq x1
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
#cmp x1, x2
seteq x2
and x0, x1, x2
#cmp x0, #0
je L14
j L13
j L15
L14:
L15:
# Variable declaration
# Variable error2 allocated
addi x1, zero, 2
# Undefined symbol
addi x2, zero, 0
mul x1, x1, x2
# Store initializer value for error2
# If statement
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x1, zero, 0
neg x2, x1
#cmp x1, x2
setgt x0
#cmp x0, #0
je L16
# Compound statement
# Compound assignment - expanding to regular assignment
# Load current value of error
lw x2, 0(error)
# Undefined symbol
addi x3, zero, 0
sub x1, x2, x3
# Store to variable error
sw x1, 0(error)
mov x0, x1
# Compound assignment - expanding to regular assignment
# Load current value of x
lw x2, 0(x)
# Undefined symbol
addi x3, zero, 0
add x1, x2, x3
# Store to variable x
sw x1, 0(x)
mov x0, x1
j L17
L16:
L17:
# If statement
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
#cmp x1, x2
setlt x0
#cmp x0, #0
je L18
# Compound statement
# Compound assignment - expanding to regular assignment
# Load current value of error
lw x2, 0(error)
# Undefined symbol
addi x3, zero, 0
add x1, x2, x3
# Store to variable error
sw x1, 0(error)
mov x0, x1
# Compound assignment - expanding to regular assignment
# Load current value of y
lw x2, 0(y)
# Undefined symbol
addi x3, zero, 0
add x1, x2, x3
# Store to variable y
sw x1, 0(y)
mov x0, x1
j L19
L18:
L19:
j L12
L13:
gfx_draw_line_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret

# Function declaration
gfx_draw_rect:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
# Compound statement
# Function call
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
add x1, x1, x2
addi x2, zero, 1
sub x3, x1, x2
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call gfx_draw_line
add sp, sp, #20
mov x0, x0
# Function call
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
add x1, x1, x2
addi x2, zero, 1
sub x3, x1, x2
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
add x1, x1, x2
addi x2, zero, 1
sub x3, x1, x2
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
add x1, x1, x2
addi x2, zero, 1
sub x3, x1, x2
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call gfx_draw_line
add sp, sp, #20
mov x0, x0
# Function call
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
add x1, x1, x2
addi x2, zero, 1
sub x3, x1, x2
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call gfx_draw_line
add sp, sp, #20
mov x0, x0
# Function call
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
add x1, x1, x2
addi x2, zero, 1
sub x3, x1, x2
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
add x1, x1, x2
addi x2, zero, 1
sub x3, x1, x2
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
add x1, x1, x2
addi x2, zero, 1
sub x3, x1, x2
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call gfx_draw_line
add sp, sp, #20
mov x0, x0
gfx_draw_rect_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret

# Function declaration
gfx_fill_rect:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
# Compound statement
# For loop (simplified)
# Compound statement
# For loop (simplified)
# Compound statement
# Function call
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
add x3, x1, x2
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x1, zero, 0
# Undefined symbol
addi x2, zero, 0
add x3, x1, x2
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call gfx_set_pixel
add sp, sp, #12
mov x0, x0
gfx_fill_rect_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret

# Function declaration
main:
addi sp, sp, -4
    sw fp, 0(sp)
mov fp, sp
sub sp, sp, #64
# Compound statement
# Function call
call cli_init
mov x0, x0
# Function call
lea x3, str20
j str20_end
str20: .string "=== Display System Demo ===

"
str20_end:
addi sp, sp, -4
    sw x3, 0(sp)
call cli_puts
add sp, sp, #4
mov x0, x0
# Function call
lea x3, str21
j str21_end
str21: .string "1. Text Mode Features:
"
str21_end:
addi sp, sp, -4
    sw x3, 0(sp)
call cli_puts
add sp, sp, #4
mov x0, x0
# Function call
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call cli_set_color
add sp, sp, #8
mov x0, x0
# Function call
lea x3, str22
j str22_end
str22: .string "   * Colored text support
"
str22_end:
addi sp, sp, -4
    sw x3, 0(sp)
call cli_puts
add sp, sp, #4
mov x0, x0
# Function call
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call cli_set_color
add sp, sp, #8
mov x0, x0
# Function call
lea x3, str23
j str23_end
str23: .string "   * Multiple colors available
"
str23_end:
addi sp, sp, -4
    sw x3, 0(sp)
call cli_puts
add sp, sp, #4
mov x0, x0
# Function call
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call cli_set_color
add sp, sp, #8
mov x0, x0
# Function call
lea x3, str24
j str24_end
str24: .string "   * Easy color switching

"
str24_end:
addi sp, sp, -4
    sw x3, 0(sp)
call cli_puts
add sp, sp, #4
mov x0, x0
# Function call
lea x3, str25
j str25_end
str25: .string "2. Cursor Control:
"
str25_end:
addi sp, sp, -4
    sw x3, 0(sp)
call cli_puts
add sp, sp, #4
mov x0, x0
# Function call
addi x3, zero, 10
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
# Member access (simplified)
addi sp, sp, -4
    sw x3, 0(sp)
call cli_set_cursor
add sp, sp, #8
mov x0, x0
# Function call
lea x3, str26
j str26_end
str26: .string "This text is indented!
"
str26_end:
addi sp, sp, -4
    sw x3, 0(sp)
call cli_puts
add sp, sp, #4
mov x0, x0
# Function call
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
# Member access (simplified)
addi sp, sp, -4
    sw x3, 0(sp)
call cli_set_cursor
add sp, sp, #8
mov x0, x0
# Function call
lea x3, str27
j str27_end
str27: .string "   Back to normal position

"
str27_end:
addi sp, sp, -4
    sw x3, 0(sp)
call cli_puts
add sp, sp, #4
mov x0, x0
# Function call
lea x3, str28
j str28_end
str28: .string "3. Switching to Graphics Mode...
"
str28_end:
addi sp, sp, -4
    sw x3, 0(sp)
call cli_puts
add sp, sp, #4
mov x0, x0
# For loop (simplified)
# Compound statement
# Function call
call gfx_init
mov x0, x0
# Function call
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call gfx_clear_screen
add sp, sp, #4
mov x0, x0
# Function call
addi x3, zero, 10
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 10
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 620
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 460
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call gfx_draw_rect
add sp, sp, #20
mov x0, x0
# Function call
addi x3, zero, 50
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 50
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 100
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 80
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call gfx_fill_rect
add sp, sp, #20
mov x0, x0
# Function call
addi x3, zero, 200
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 50
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 100
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 80
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call gfx_fill_rect
add sp, sp, #20
mov x0, x0
# Function call
addi x3, zero, 350
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 50
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 100
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 80
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call gfx_fill_rect
add sp, sp, #20
mov x0, x0
# Function call
addi x3, zero, 50
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 200
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 550
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 200
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call gfx_draw_line
add sp, sp, #20
mov x0, x0
# Function call
addi x3, zero, 50
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 250
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 550
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 350
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call gfx_draw_line
add sp, sp, #20
mov x0, x0
# Function call
addi x3, zero, 550
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 250
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 50
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 350
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call gfx_draw_line
add sp, sp, #20
mov x0, x0
# For loop (simplified)
# Compound statement
# Function call
addi x1, zero, 100
# Undefined symbol
addi x2, zero, 0
add x3, x1, x2
addi sp, sp, -4
    sw x3, 0(sp)
addi x1, zero, 400
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 10
mod x2, x1, x2
add x3, x1, x2
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call gfx_set_pixel
add sp, sp, #12
mov x0, x0
# Function call
addi x1, zero, 100
# Undefined symbol
addi x2, zero, 0
add x3, x1, x2
addi sp, sp, -4
    sw x3, 0(sp)
addi x1, zero, 410
# Undefined symbol
addi x1, zero, 0
addi x2, zero, 15
mod x2, x1, x2
add x3, x1, x2
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call gfx_set_pixel
add sp, sp, #12
mov x0, x0
# For loop (simplified)
# Compound statement
# Function call
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call WRITE_REG
add sp, sp, #8
mov x0, x0
# Function call
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 20
addi sp, sp, -4
    sw x3, 0(sp)
call cli_set_cursor
add sp, sp, #8
mov x0, x0
# Function call
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
# Undefined symbol
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
call cli_set_color
add sp, sp, #8
mov x0, x0
# Function call
lea x3, str29
j str29_end
str29: .string "Mixed Mode: Graphics + Text Overlay"
str29_end:
addi sp, sp, -4
    sw x3, 0(sp)
call cli_puts
add sp, sp, #4
mov x0, x0
# Function call
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 21
addi sp, sp, -4
    sw x3, 0(sp)
call cli_set_cursor
add sp, sp, #8
mov x0, x0
# Function call
lea x3, str30
j str30_end
str30: .string "Text appears over graphics background"
str30_end:
addi sp, sp, -4
    sw x3, 0(sp)
call cli_puts
add sp, sp, #4
mov x0, x0
# Function call
addi x3, zero, 0
addi sp, sp, -4
    sw x3, 0(sp)
addi x3, zero, 23
addi sp, sp, -4
    sw x3, 0(sp)
call cli_set_cursor
add sp, sp, #8
mov x0, x0
# Function call
lea x3, str31
j str31_end
str31: .string "CLI Demo Complete!"
str31_end:
addi sp, sp, -4
    sw x3, 0(sp)
call cli_puts
add sp, sp, #4
mov x0, x0
# Return statement
addi x0, zero, 0
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret
main_end:
add sp, sp, #64
lw fp, 0(sp)
    addi sp, sp, 4
ret


# Program entry point
_start:
call main
ebreak
